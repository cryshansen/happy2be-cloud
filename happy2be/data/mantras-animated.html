<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cool-Down Ritual</title>
<style>
  body {
    font-family: 'Helvetica', sans-serif;
    background-color: #f0f4f8;
    color: #333;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }

  .container {
    border-radius: 20px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    width: 90%;
    max-width: 400px;
    padding: 25px;
    text-align: center;
    transition: background-color 0.5s;
  }

  .step-number {
    font-size: 1.2em;
    font-weight: bold;
    color: #333;
  }

  .step-title {
    font-size: 1.5em;
    margin: 10px 0;
  }

  .gesture {
    font-style: italic;
    color: #555;
    margin: 10px 0;
  }

  .primary-phrase {
    font-size: 1.3em;
    margin: 15px 0;
    color: #222;
    padding: 15px;
    border-radius: 15px;
    transition: transform 4s ease-in-out;
  }

  .mantra {
    background-color: rgba(230, 234, 248, 0.6);
    padding: 10px;
    border-radius: 10px;
    margin: 10px 0;
    cursor: pointer;
  }

  .buttons {
    display: flex;
    justify-content: space-between;
    margin-top: 20px;
  }

  button {
    background-color: #6c63ff;
    color: white;
    border: none;
    border-radius: 10px;
    padding: 10px 15px;
    cursor: pointer;
    font-size: 1em;
  }

  button:hover {
    background-color: #5750d4;
  }

  .progress {
    margin-top: 10px;
    font-size: 0.9em;
    color: #666;
  }

  /* Color-coded steps */
  .step-grounding { background-color: #d0e7ff; }
  .step-worth { background-color: #d0ffd6; }
  .step-release { background-color: #e6d0ff; }
  .step-breath { background-color: #c0f0ea; }
  .step-compassion { background-color: #ffd0d8; }
</style>
</head>
<body>

<div class="container step-grounding">
  <div class="step-number">Step 1 of 5</div>
  <div class="step-title">Grounding â€” Feel Your Body</div>
  <div class="gesture">Place both feet flat on the floor, press your toes down slightly.</div>
  <div class="primary-phrase">"I am here, right now. I am safe in my space."</div>
  <div class="mantra">"I am safe now. Iâ€™m allowed to step away."</div>
  
  <div class="buttons">
    <button id="prev">Previous</button>
    <button id="next">Next Step</button>
    <button id="playMantra">ðŸ”Š Play Mantra</button>
  </div>
  <div class="progress">Step 1 / 5</div>
</div>

<script>
  const steps = [
    {
      title: "Grounding â€” Feel Your Body",
      gesture: "Place both feet flat on the floor, press your toes down slightly.",
      primary_phrase: "I am here, right now. I am safe in my space.",
      mantras: [
        "I am safe now. Iâ€™m allowed to step away.",
        "Their reaction is over there; my calm is over here.",
        "I can breathe again. My body doesnâ€™t have to keep fighting.",
        "This moment will pass â€” Iâ€™ve gotten through worse."
      ],
      class: "step-grounding"
    },
    {
      title: "Reclaiming Your Worth",
      gesture: "Place one hand gently on your chest over your heart.",
      primary_phrase: "My heart is still kind. I spoke with care, and that matters.",
      mantras: [
        "Their anger isnâ€™t proof I did something wrong.",
        "I spoke from honesty and care â€” thatâ€™s all I can control.",
        "Itâ€™s okay if they donâ€™t understand me; I still understand myself.",
        "I am worthy of respect even when others donâ€™t show it.",
        "I donâ€™t need to earn peace by explaining myself."
      ],
      class: "step-worth"
    },
    {
      title: "Releasing Their Energy",
      gesture: "With your other hand, sweep outward as if brushing away dust or smoke from your body.",
      primary_phrase: "I let go of what isnâ€™t mine to carry.",
      mantras: [
        "I donâ€™t have to carry their words with me.",
        "That conversation belongs to the past now.",
        "I can let the storm pass without joining it.",
        "I release the guilt that isnâ€™t mine.",
        "I choose quiet over chaos right now."
      ],
      class: "step-release"
    },
    {
      title: "Resetting Your Breath",
      gesture: "Breathe in slowly through your nose, relax your shoulders, and exhale through your mouth.",
      primary_phrase: "I breathe in peaceâ€¦ I breathe out pain.",
      mantras: [
        "I am safe now. Iâ€™m allowed to step away.",
        "I can let the storm pass without joining it."
      ],
      class: "step-breath"
    },
    {
      title: "Self-Compassion and Closure",
      gesture: "Keep your hand on your chest or wrap your arms around yourself in a light hug.",
      primary_phrase: "That was hard, and Iâ€™m proud of how I handled it. I choose quiet now. Iâ€™m taking care of me.",
      mantras: [
        "That hurt, and I can comfort myself gently.",
        "Iâ€™m learning new ways to protect my peace.",
        "Iâ€™m proud of myself for recognizing the pattern.",
        "I deserve kind communication â€” even from myself.",
        "Every time I step away instead of explode, Iâ€™m healing."
      ],
      class: "step-compassion"
    }
  ];

  let currentStep = 0;
  let currentMantra = 0;

  const container = document.querySelector('.container');
  const stepTitle = document.querySelector('.step-title');
  const gesture = document.querySelector('.gesture');
  const primaryPhrase = document.querySelector('.primary-phrase');
  const mantraDiv = document.querySelector('.mantra');
  const progress = document.querySelector('.progress');

  function updateStep(){
    const step = steps[currentStep];
    container.className = `container ${step.class}`;
    stepTitle.textContent = step.title;
    gesture.textContent = step.gesture;
    primaryPhrase.textContent = step.primary_phrase;
    currentMantra = 0;
    mantraDiv.textContent = step.mantras[currentMantra];
    progress.textContent = `Step ${currentStep + 1} / ${steps.length}`;
    animateBreathing();
  }

  document.getElementById('next').addEventListener('click', () => {
    if(currentStep < steps.length - 1){
      currentStep++;
      updateStep();
    }
  });

  document.getElementById('prev').addEventListener('click', () => {
    if(currentStep > 0){
      currentStep--;
      updateStep();
    }
  });

  mantraDiv.addEventListener('click', () => {
    const step = steps[currentStep];
    currentMantra = (currentMantra + 1) % step.mantras.length;
    mantraDiv.textContent = step.mantras[currentMantra];
  });

  document.getElementById('playMantra').addEventListener('click', () => {
    const utter = new SpeechSynthesisUtterance(mantraDiv.textContent);
    window.speechSynthesis.speak(utter);
  });

  function animateBreathing(){
    primaryPhrase.style.transform = 'scale(1)';
    setTimeout(() => primaryPhrase.style.transform = 'scale(1.05)', 500);
    setTimeout(() => primaryPhrase.style.transform = 'scale(1)', 4500);
  }

  // Initialize
  updateStep();
</script>
</body>
</html>
